# 微服务架构设计模式

## 为什么需要微服务

### 单体架构的优点

1. 应用的开发很简单
2. 易于对应用程序进行大规模的更改
3. 测试相对简单直观
4. 部署简单明了
5. 横向扩展不费吹灰之力

### 单体架构的缺点

1. 过度的复杂性会吓退开发者
2. 开发速度缓慢
3. 从代码提交到实际部署的周期很长，而且容易出错
4. 难以扩展
5. 交付可靠的单体应用是一项挑战
6. 需要长期依赖某个可能已经过时的技术栈

### 什么是微服务

面向服务的架构。可以从三个维度扩展。

1. X 轴扩展: 在多个实例之间实现请求的负载均衡
2. Y 轴扩展: 根据功能把应用拆分为服务
3. Z 轴扩展: 根据请求的属性路由请求

### 微服务的优点

1. 使大型的负责应用程序可以持续交付和持续部署
2. 每个服务都相对较小并容易为辅
3. 服务可以独立部署
4. 服务可以独立扩展
5. 微服务架构可以实现团队的自洽
6. 更容易实验和采纳新的技术

### 微服务的缺点

1. 服务的拆分和定义是一项挑战
2. 分布式系统带来的各种负责性，使开发、测试和部署变得更困难
3. 当部署跨越多个服务的功能是需要谨慎地协调更多的开发团队
4. 开发者需要思考到底应该在应用的什么阶段使用微服务架构

## 理解软件架构

## 常见的进程间通信模式

## 数据一致性

## 领域驱动设计模式

## 事件溯源模式

## API 组合模式

## 命令查询职责隔离模式

## 外部 API 模式

## 自动化测试模式

## 安全与审计

## 部署

## 从单体架构到微服务架构
